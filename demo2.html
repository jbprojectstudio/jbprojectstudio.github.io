<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JB Project Studio | Giordano Boschetti</title>
    <style>
        /* --- VARIABILI COLORI (BRANDING) --- */
        :root {
            --bg-color: #050505;
            --card-bg: #111111;
            --accent: #bf00ff;
            --accent-glow: rgba(191, 0, 255, 0.4);
            --whatsapp: #25D366; /* Colore WhatsApp */
            --whatsapp-glow: rgba(37, 211, 102, 0.4);
            --text-main: #ffffff;
            --text-muted: #b3b3b3;
        }

        /* --- BASE & RESET --- */
        html { scroll-behavior: smooth; }
        
        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
        }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        ul { list-style: none; padding: 0; margin: 0; }
        h1, h2, h3 { margin: 0; line-height: 1.2; }
        button { font-family: inherit; }

        /* --- ANIMAZIONI (SCROLL REVEAL) --- */
        .reveal {
            position: relative;
            transform: translateY(50px);
            opacity: 0;
            transition: all 1s ease;
        }

        .reveal.active {
            transform: translateY(0);
            opacity: 1;
        }

        /* --- NAVBAR --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 5%;
            background: rgba(5, 5, 5, 0.95);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            height: 80px;
            box-sizing: border-box;
        }

        .logo { 
            font-size: 1.2rem; 
            font-weight: 800; 
            letter-spacing: 1px; 
            text-transform: uppercase;
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 15px; 
        }
        
        /* STILE LOGO IMMAGINE */
        .logo img {
            height: 50px; 
            width: auto;
            display: block;
            object-fit: contain;
        }

        .logo span { color: var(--accent); text-shadow: 0 0 10px var(--accent-glow); }

        /* Desktop Menu */
        nav ul { display: flex; gap: 30px; }
        nav a { font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
        nav a:hover { color: var(--accent); text-shadow: 0 0 8px var(--accent); }

        /* Hamburger Icon */
        .hamburger {
            display: none;
            cursor: pointer;
            z-index: 1001;
        }
        .bar {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px auto;
            transition: all 0.3s ease-in-out;
            background-color: white;
        }

        /* --- HERO SECTION --- */
        .hero {
            min-height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(to bottom, rgba(5,5,5,0.3), var(--bg-color)), 
                        linear-gradient(45deg, rgba(191,0,255,0.2), rgba(0,0,0,0.8)),
                        url('img/studio_back.jpg');
            background-size: cover;
            background-position: center;
            padding: 80px 20px 20px 20px;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 5rem);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: -1px;
        }

        .hero h1 span {
            color: var(--accent);
            text-shadow: 0 0 20px var(--accent-glow);
        }
        
        .hero p {
            font-size: clamp(1rem, 2vw, 1.3rem);
            color: var(--text-muted);
            max-width: 700px;
            margin: 0 auto 40px auto; 
        }

        .btn-glow {
            padding: 15px 45px;
            font-size: 1rem;
            font-weight: bold;
            color: #fff;
            background: transparent;
            border: 2px solid var(--accent);
            border-radius: 50px;
            box-shadow: 0 0 15px var(--accent-glow);
            transition: all 0.3s ease;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            display: inline-block;
        }

        .btn-glow:hover {
            background: var(--accent);
            color: #000;
            box-shadow: 0 0 40px var(--accent-glow);
            transform: scale(1.05);
        }

        /* STILE TASTO WHATSAPP */
        .btn-whatsapp {
            border-color: var(--whatsapp);
            box-shadow: 0 0 15px var(--whatsapp-glow);
        }
        .btn-whatsapp:hover {
            background: var(--whatsapp);
            box-shadow: 0 0 40px var(--whatsapp-glow);
            color: #fff;
        }

        /* --- SEZIONE GENERALE --- */
        .section-padding { padding: 100px 5%; }
        .section-title { text-align: center; font-size: clamp(2rem, 4vw, 2.5rem); margin-bottom: 10px; }
        .section-subtitle { text-align: center; color: var(--text-muted); margin-bottom: 40px; }

        /* --- ABOUT BOX STYLE --- */
        #about {
            background-color: #080808;
            border-bottom: 1px solid #222;
        }

        .about-box {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(145deg, #111111, #0d0d0d);
            padding: 50px;
            border-left: 4px solid var(--accent);
            border-radius: 0 15px 15px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .about-text {
            font-size: 1.1rem;
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
        }

        .about-text:last-child { margin-bottom: 0; }
        
        .highlight { color: var(--accent); font-weight: bold; }

        /* --- DUAL PLAYER LAYOUT (GRID) --- */
        .dual-player-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
            align-items: start;
        }

        .player-container {
            background: var(--card-bg);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 40px;
            width: 100%; 
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }

        .player-container::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 4px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        .track-title-display { font-size: 1.3rem; font-weight: bold; margin-bottom: 20px; text-align: center; color: var(--accent); min-height: 1.5em; }

        .controls-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .play-btn-large {
            width: 70px; height: 70px;
            border-radius: 50%;
            background: var(--accent);
            border: none;
            color: #fff;
            font-size: 28px;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px var(--accent-glow);
            transition: transform 0.2s, box-shadow 0.3s;
        }
        
        .play-btn-large:hover { box-shadow: 0 0 40px var(--accent-glow); }
        .play-btn-large:active { transform: scale(0.95); }
        .play-btn-large.playing { animation: pulse-border 2s infinite; }

        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(191, 0, 255, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(191, 0, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(191, 0, 255, 0); }
        }

        .ab-switch-container {
            display: flex;
            background: #000;
            border-radius: 30px;
            padding: 5px;
            border: 1px solid #333;
            flex-wrap: wrap;
            justify-content: center;
        }

        .switch-btn {
            padding: 8px 25px;
            border-radius: 25px;
            border: none;
            background: transparent;
            color: #888;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            white-space: nowrap;
            font-size: 0.9rem;
        }

        .switch-btn.active {
            background: var(--accent);
            color: #fff;
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .progress-container {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .progress-bar {
            flex-grow: 1;
            -webkit-appearance: none;
            height: 5px;
            background: #333;
            border-radius: 5px;
            outline: none;
            cursor: pointer;
            overflow: hidden;
        }

        .progress-bar::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px; height: 12px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: -500px 0 0 492px var(--accent);
        }

        .playlist-container {
            margin-top: 20px;
            border-top: 1px solid #222;
            padding-top: 15px;
        }
        .playlist-header { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px;}
        .playlist { display: flex; flex-direction: column; gap: 8px; max-height: 250px; overflow-y: auto; }
        .playlist-item {
            padding: 12px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid transparent;
            font-size: 0.95rem;
        }
        .playlist-item:hover { background: rgba(255,255,255,0.08); }
        .playlist-item.active {
            border-color: var(--accent);
            background: rgba(191, 0, 255, 0.1);
        }
        .item-title { font-weight: 600; }
        .item-duration { color: var(--text-muted); font-size: 0.8rem; }

        /* --- SERVIZI (GRID) --- */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-top: 50px;
        }

        .card {
            background: linear-gradient(145deg, #151515, #0a0a0a);
            padding: 40px 30px;
            border-radius: 15px;
            border: 1px solid #222;
            transition: 0.4s;
            position: relative;
        }

        .card:hover {
            transform: translateY(-10px);
            border-color: var(--accent);
            box-shadow: 0 10px 30px rgba(191, 0, 255, 0.1);
        }

        .card h3 { font-size: 1.8rem; margin-bottom: 15px; color: #fff; }
        .card p { color: #aaa; font-size: 0.95rem; line-height: 1.6; }
        .icon-box { font-size: 2rem; color: var(--accent); margin-bottom: 20px; }

        /* --- FOOTER & CONTACT (FIXED MAP ALIGNMENT) --- */
        footer {
            background: #000;
            padding: 60px 5%;
            border-top: 1px solid #333;
            text-align: center;
        }

        /* SEZIONE CONTATTI */
        #contact {
            background: #080808;
            padding: 80px 5%;
            border-top: 1px solid #222;
        }

        .contact-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr; 
            gap: 60px;
            /* FIX VISIVO: Allinea la mappa in alto, al livello del titolo "Lavoriamo Insieme" */
            align-items: start; 
        }

        .contact-info { text-align: left; }
        
        .contact-info h2 { font-size: 3rem; margin-bottom: 20px; line-height: 1.1; }
        .contact-info p { font-size: 1.1rem; color: #aaa; margin-bottom: 40px; max-width: 500px; }

        /* GRUPPO PULSANTI */
        .buttons-group {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 300px;
        }

        .buttons-group .btn-glow {
            width: 100%; 
            text-align: center;
            box-sizing: border-box; 
            display: block; 
        }

        /* NUOVI STILI SOCIAL (Centrati nel Footer) */
        .social-links {
            margin-top: 0;
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center; 
            margin-bottom: 40px; 
        }

        .social-link {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            color: #fff;
        }

        .social-link svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .social-link:hover {
            background: var(--accent);
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 0 15px var(--accent-glow);
        }

        /* MAPPA */
        .map-section {
            width: 100%;
            height: 100%;
            min-height: 350px;
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid #333;
            position: relative; 
            background-color: #1a1a1a; 
        }

        .map-section iframe {
            position: absolute; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
            /* Nessun filtro */
        }

        .address-box {
            margin-top: 20px;
            font-size: 0.9rem;
            color: #666;
            text-align: center;
        }

        .footer-brands-title {
            color: var(--text-muted);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }

        /* Placeholder per i Brand */
        .brands-grid {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            margin-bottom: 40px;
            opacity: 0.5; 
        }

        .brand-item {
            font-size: 1.2rem;
            color: #444; 
            font-weight: bold;
        }

        .copyright {
            font-size: 0.8rem;
            color: #555;
        }

        /* --- MEDIA QUERIES (RESPONSIVE) --- */
        @media (max-width: 900px) {
            .dual-player-grid { grid-template-columns: 1fr; gap: 50px; }
            
            .grid-3 { grid-template-columns: 1fr; }

            .contact-container { grid-template-columns: 1fr; gap: 40px; text-align: center; }
            .contact-info { text-align: center; margin: 0 auto; }
            .contact-info p { margin: 0 auto 40px auto; }
            .buttons-group { margin: 0 auto; align-items: center; }
            .social-links { justify-content: center; } 
        }

        @media (max-width: 768px) {
            .hamburger { display: block; margin-left: auto; }
            .hamburger.active .bar:nth-child(2) { opacity: 0; }
            .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
            .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

            nav { position: absolute; width: 0; height: 0; padding: 0; margin: 0; }
            nav ul {
                position: fixed; left: -100%; top: 80px;
                gap: 0; flex-direction: column;
                background-color: var(--bg-color);
                width: 100%; text-align: center;
                transition: 0.3s;
                border-bottom: 1px solid #222;
                padding-bottom: 20px;
            }
            nav ul.active { left: 0; }
            nav li { margin: 16px 0; }

            .section-padding { padding: 60px 5%; }
            .hero { padding-top: 100px; }
            .about-box { padding: 30px; }
            .player-container { padding: 30px 20px; }
            .switch-btn { padding: 10px 20px; font-size: 0.85rem; }
            footer h2 { font-size: 2.5rem !important; }
        }
    </style>

    <!-- ================= CONFIGURAZIONE FACILE (MODIFICA QUI) ================= -->
    <script>
        const AUDIO_FOLDER = "audio/"; 

        const AB_FILES_LIST = [
            "SoundHelix-Song-8.mp3", 
            "SoundHelix-Song-15.mp3" 
        ];

        const PORTFOLIO_FILES_LIST = [
            "SoundHelix-Song-10.mp3",
            "SoundHelix-Song-16.mp3"
        ];
    </script>
    <!-- ================= FINE CONFIGURAZIONE ================= -->

</head>
<body>

    <header>
        <div class="logo">
            <img src="img/logo.svg" alt="JB Project Studio">
            JB PROJECT <span>STUDIO</span>
        </div>

        <div class="hamburger">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </div>
        <nav>
            <ul>
                <li><a href="#about" class="nav-link">Chi Sono</a></li>
                <li><a href="#portfolio" class="nav-link">Portfolio</a></li>
                <li><a href="#services" class="nav-link">Servizi</a></li>
                <li><a href="#contact" class="nav-link">Contatti</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="reveal active"> 
            <h1>Il Tuo Suono<br><span>Senza Compromessi</span></h1>
            <p>Produzione Artistica & Musicale. Dal concept al master finale, costruiamo la tua identit√† sonora unica.</p>
            <a href="#portfolio" class="btn-glow">Ascolta le Demo</a>
        </div>
    </section>

    <!-- ================= SEZIONE: CHI SONO (BOX ORDINATO) ================= -->
    <section id="about" class="section-padding">
        <div class="reveal">
            <h2 class="section-title">Oltre il Tasto Rec</h2>
            <div class="about-box">
                <p class="about-text">
                    Mi chiamo <span class="highlight">Giordano Boschetti</span>. Dal 1990 coltivo una visione: non limitarsi a registrare, ma <em>scolpire</em> l'identit√† artistica. 
                    Nel mio studio, unisco la sensibilit√† dell'artista alla maniacalit√† dell'ingegnere del suono.
                </p>
                <p class="about-text">
                    Che si tratti di chitarre, tastiere o beat elettronici, il mio obiettivo non √® solo farti "suonare bene", ma creare un prodotto che ti rappresenti. <span>Non cerco clienti, ma progetti in cui credere.</span>
                </p>
            </div>
        </div>
    </section>

    <!-- ================= SEZIONE PORTFOLIO UNIFICATA (SIDE-BY-SIDE) ================= -->
    <section id="portfolio" class="section-padding">
        <div class="reveal">
            <h2 class="section-title">Portfolio & Demo</h2>
            <p class="section-subtitle">Ascolta la differenza e i lavori finiti.</p>

            <div class="dual-player-grid">
                
                <!-- PLAYER SINISTRA: A/B COMPARISON -->
                <div class="player-container" id="ab-player-root">
                    <div>
                        <div class="track-title-display" id="ab-track-title">Caricamento...</div>
                        
                        <div class="controls-wrapper">
                            <button class="play-btn-large" id="ab-play-btn">‚ñ∂</button>
                            
                            <div class="ab-switch-container">
                                <button class="switch-btn active" data-track="A">RAW MIX</button>
                                <button class="switch-btn" data-track="B">MASTER</button>
                            </div>

                            <div class="progress-container">
                                <span id="ab-current-time">0:00</span>
                                <input type="range" class="progress-bar" id="ab-progress" value="0" min="0" max="100" step="0.1">
                                <span id="ab-duration">0:00</span>
                            </div>
                        </div>
                    </div>

                    <div class="playlist-container">
                        <div class="playlist-header">Confronto Mix</div>
                        <ul class="playlist" id="ab-playlist-list"></ul>
                    </div>

                    <audio id="audioA" preload="auto"></audio>
                    <audio id="audioB" preload="auto"></audio>
                </div>

                <!-- PLAYER DESTRA: PORTFOLIO FINITO -->
                <div class="player-container" id="portfolio-player-root">
                    <div>
                        <div class="track-title-display" id="port-track-title">Caricamento...</div>
                        
                        <div class="controls-wrapper">
                            <button class="play-btn-large" id="port-play-btn">‚ñ∂</button>

                            <div style="height: 38px;"></div> 

                            <div class="progress-container">
                                <span id="port-current-time">0:00</span>
                                <input type="range" class="progress-bar" id="port-progress" value="0" min="0" max="100" step="0.1">
                                <span id="port-duration">0:00</span>
                            </div>
                        </div>
                    </div>

                    <div class="playlist-container">
                        <div class="playlist-header">Lavori Finiti</div>
                        <ul class="playlist" id="port-playlist-list"></ul>
                    </div>

                    <audio id="audioPortfolio" preload="auto"></audio>
                </div>

            </div>
        </div>
    </section>

    <!-- ================= SEZIONE SERVIZI ================= -->
    <section id="services" class="section-padding" style="background: #0a0a0a;">
        <div class="reveal">
            <h2 class="section-title">I Miei Servizi</h2>
            <p class="section-subtitle">Un percorso completo per la tua musica.</p>
            
            <div class="grid-3">
                <div class="card">
                    <div class="icon-box">üé®</div>
                    <h3>Produzione Artistica</h3>
                    <p>Il cuore del progetto. Non registriamo e basta: definiamo insieme la direzione stilistica, l'intenzione e l'identit√† del tuo suono per renderlo unico e riconoscibile.</p>
                </div>

                <div class="card">
                    <div class="icon-box">üéπ</div>
                    <h3>Produzione Musicale</h3>
                    <p>Dall'arrangiamento al Beat Making. Costruisco la strumentale attorno alla tua voce, valorizzando il mood senza mai sovrastare l'artista. Suono reale e programmazione digitale.</p>
                </div>

                <div class="card">
                    <div class="icon-box">üéöÔ∏è</div>
                    <h3>Mix & Mastering</h3>
                    <p>Competitivit√† e calore. Unisco il punch del digitale al colore dell'analogico per un suono pronto per le piattaforme di streaming, radio e club.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ================= SEZIONE CONTATTI ================= -->
    <section id="contact">
        <div class="reveal contact-container">
            
            <!-- Colonna Sinistra: Testo e Pulsanti -->
            <div class="contact-info">
                <h2>Lavoriamo Insieme</h2>
                <p>Il feeling √® tutto. Prenota un <strong>colloquio conoscitivo gratuito</strong> in studio (o una call online) per raccontarmi il tuo progetto senza impegno.</p>
                
                <div class="buttons-group">
                    <!-- LINK WHATSAPP: Inserisci il tuo numero dopo 39 -->
                    <a href="https://wa.me/39INSERISCINUMERO" class="btn-glow btn-whatsapp" target="_blank">
                        üí¨ Scrivimi su WhatsApp
                    </a>
                    
                    <a href="mailto:info@jbprojectstudio.com" class="btn-glow">
                        üìß Richiedi Preventivo
                    </a>
                </div>
            </div>

            <!-- Colonna Destra: Mappa e Indirizzo -->
            <div style="width: 100%;">
                <div class="map-section">
                    <!-- MAPPA EMBED GOOGLE: Sostituisci "src" con il tuo embed reale -->
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2940.6145657400943!2d12.165913776484722!3d42.520998224918195!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1328f1e36b6fb107%3A0x75eb6eff7eea1aea!2sJB%20Project%20Studio%20(Giordano%20Boschetti)!5e0!3m2!1sit!2sit!4v1764718453290!5m2!1sit!2sit" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="address-box">
                    <p><strong>JB Project Studio</strong> - Viterbo (VT)<br>Ricevo su appuntamento</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ================= FOOTER VERO (ISTITUZIONALE) ================= -->
    <footer>
        
        <!-- SOCIAL LINKS (Ora qui, centrati sopra i brand) -->
        <div class="social-links">
            <a href="#" class="social-link" title="Instagram">
                <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
            </a>
            <a href="#" class="social-link" title="Facebook">
                <svg viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
            </a>
            <a href="#" class="social-link" title="YouTube">
                <svg viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg>
            </a>
        </div>

        <!-- PLACEHOLDER BRANDS (Futuro) -->
        <div class="footer-brands-title">Trusted Brands & Partners</div>
        <div class="brands-grid">
            <div class="brand-item">LOGO 1</div>
            <div class="brand-item">LOGO 2</div>
            <div class="brand-item">LOGO 3</div>
            <div class="brand-item">LOGO 4</div>
        </div>

        <div class="copyright">
            &copy; 2025 JB Project Studio - P.IVA: XXXXXXXXXXX | All rights reserved.
        </div>
    </footer>

    <script>
        // --- 1. SCRIPT NAVBAR MOBILE & SCROLL ---
        const hamburger = document.querySelector(".hamburger");
        const navMenu = document.querySelector("nav ul");
        const navLink = document.querySelectorAll(".nav-link");

        hamburger.addEventListener("click", () => {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });

        navLink.forEach(n => n.addEventListener("click", () => {
            hamburger.classList.remove("active");
            navMenu.classList.remove("active");
        }));

        window.addEventListener('scroll', reveal);
        function reveal() {
            var reveals = document.querySelectorAll('.reveal');
            for (var i = 0; i < reveals.length; i++) {
                var windowheight = window.innerHeight;
                var revealtop = reveals[i].getBoundingClientRect().top;
                var revealpoint = 150;
                if (revealtop < windowheight - revealpoint) reveals[i].classList.add('active');
            }
        }

        // --- 2. LOGICA PLAYER & DATI ---
        function getFileParts(filename) {
            const lastDotIndex = filename.lastIndexOf('.');
            if (lastDotIndex === -1) return { name: filename, ext: '' }; 
            return {
                name: filename.substring(0, lastDotIndex),
                ext: filename.substring(lastDotIndex)
            };
        }

        function parseABList(list) {
            return list.map(fullFileName => {
                const parts = getFileParts(fullFileName);
                let cleanTitle = parts.name.replace(/-/g, ' ').replace(/_/g, ' ');
                let isDemo = fullFileName.includes("SoundHelix");

                if (isDemo) {
                    return {
                        title: cleanTitle,
                        srcA: `https://www.soundhelix.com/examples/mp3/${parts.name}.mp3`,
                        srcB: `https://www.soundhelix.com/examples/mp3/${parts.name.replace('8', '1').replace('15', '3')}.mp3`
                    };
                } else {
                    return {
                        title: cleanTitle,
                        srcA: `${AUDIO_FOLDER}${parts.name}_raw${parts.ext}`,
                        srcB: `${AUDIO_FOLDER}${fullFileName}`
                    };
                }
            });
        }

        function parsePortfolioList(list) {
            return list.map(fullFileName => {
                const parts = getFileParts(fullFileName);
                let cleanTitle = parts.name.replace(/-/g, ' ').replace(/_/g, ' ');
                let isDemo = fullFileName.includes("SoundHelix");
                return {
                    title: cleanTitle,
                    src: isDemo ? `https://www.soundhelix.com/examples/mp3/${fullFileName}` : `${AUDIO_FOLDER}${fullFileName}`
                };
            });
        }

        const abTracksData = parseABList(AB_FILES_LIST);
        const portfolioTracksData = parsePortfolioList(PORTFOLIO_FILES_LIST);

        function formatTime(seconds) {
            if(!seconds || isNaN(seconds)) return "0:00";
            minutes = Math.floor(seconds / 60);
            minutes = (minutes >= 10) ? minutes : "0" + minutes;
            seconds = Math.floor(seconds % 60);
            seconds = (seconds >= 10) ? seconds : "0" + seconds;
            return minutes + ":" + seconds;
        }

        // --- 3. LOGICA PLAYER A/B ---
        const abPlayer = {
            audioA: document.getElementById('audioA'),
            audioB: document.getElementById('audioB'),
            playBtn: document.getElementById('ab-play-btn'),
            titleDisplay: document.getElementById('ab-track-title'),
            progressBar: document.getElementById('ab-progress'),
            currTimeDisplay: document.getElementById('ab-current-time'),
            durDisplay: document.getElementById('ab-duration'),
            playlistList: document.getElementById('ab-playlist-list'),
            switchBtns: document.querySelectorAll('.switch-btn'),
            currentTrackIndex: 0,
            activeAudio: null, 
            isPlaying: false,
            isDragging: false,

            init: function() {
                this.activeAudio = this.audioA;
                this.renderPlaylist();
                this.loadTrack(0);
                
                this.playBtn.addEventListener('click', () => this.togglePlay());
                this.switchBtns.forEach(btn => {
                    btn.addEventListener('click', (e) => this.switchAB(e.target.dataset.track));
                });

                [this.audioA, this.audioB].forEach(audio => {
                    audio.addEventListener('timeupdate', () => this.updateProgress());
                    audio.addEventListener('loadedmetadata', () => {
                        this.durDisplay.innerText = formatTime(this.activeAudio.duration);
                        this.progressBar.max = this.activeAudio.duration;
                    });
                    audio.addEventListener('ended', () => {
                         this.isPlaying = false;
                         this.playBtn.innerHTML = "‚ñ∂";
                         this.playBtn.classList.remove("playing");
                         this.audioA.currentTime = 0;
                         this.audioB.currentTime = 0;
                    });
                });

                this.progressBar.addEventListener('input', () => {
                    this.isDragging = true;
                    this.currTimeDisplay.innerText = formatTime(this.progressBar.value);
                });
                this.progressBar.addEventListener('change', () => {
                    const targetTime = this.progressBar.value;
                    this.audioA.currentTime = targetTime;
                    this.audioB.currentTime = targetTime;
                    this.isDragging = false;
                });
            },

            renderPlaylist: function() {
                this.playlistList.innerHTML = '';
                abTracksData.forEach((track, index) => {
                    let li = document.createElement('li');
                    li.className = 'playlist-item';
                    li.innerHTML = `<span class="item-title">${track.title}</span>`;
                    li.addEventListener('click', () => this.loadTrack(index));
                    this.playlistList.appendChild(li);
                });
            },

            forcePause: function() {
                this.audioA.pause();
                this.audioB.pause();
                this.isPlaying = false;
                this.playBtn.innerHTML = "‚ñ∂";
                this.playBtn.classList.remove("playing");
            },

            loadTrack: function(index) {
                portPlayer.forcePause(); // STOP ALTRI PLAYER
                this.currentTrackIndex = index;
                const track = abTracksData[index];
                this.isPlaying = false;
                this.playBtn.innerHTML = "‚ñ∂";
                this.playBtn.classList.remove("playing");
                this.audioA.pause();
                this.audioB.pause();
                this.progressBar.value = 0;
                this.audioA.src = track.srcA;
                this.audioB.src = track.srcB;
                this.titleDisplay.innerText = track.title;
                document.querySelectorAll('#ab-playlist-list .playlist-item').forEach((item, i) => {
                    item.classList.toggle('active', i === index);
                });
                this.switchAB('A');
            },

            togglePlay: function() {
                if (this.isPlaying) {
                    this.activeAudio.pause();
                    this.playBtn.innerHTML = "‚ñ∂";
                    this.playBtn.classList.remove("playing");
                } else {
                    portPlayer.forcePause(); // STOP ALTRI PLAYER
                    let currentTime = this.activeAudio.currentTime;
                    this.audioA.currentTime = currentTime;
                    this.audioB.currentTime = currentTime;
                    this.activeAudio.play();
                    this.playBtn.innerHTML = "‚è∏";
                    this.playBtn.classList.add("playing");
                }
                this.isPlaying = !this.isPlaying;
            },

            switchAB: function(target) {
                let currentTime = this.activeAudio.currentTime;
                let wasPlaying = !this.activeAudio.paused;
                this.activeAudio.pause();
                this.switchBtns.forEach(btn => btn.classList.remove('active'));
                if (target === 'A') {
                    this.activeAudio = this.audioA;
                    document.querySelector('.switch-btn[data-track="A"]').classList.add('active');
                } else {
                    this.activeAudio = this.audioB;
                    document.querySelector('.switch-btn[data-track="B"]').classList.add('active');
                }
                this.activeAudio.currentTime = currentTime;
                if (wasPlaying) this.activeAudio.play();
            },

            updateProgress: function() {
                if (this.isDragging || !this.activeAudio.duration) return;
                const currentTime = this.activeAudio.currentTime;
                this.progressBar.value = currentTime;
                this.currTimeDisplay.innerText = formatTime(currentTime);
                this.durDisplay.innerText = formatTime(this.activeAudio.duration);
                this.progressBar.max = this.activeAudio.duration;
            }
        };

        // --- 4. LOGICA PLAYER PORTFOLIO ---
        const portPlayer = {
            audio: document.getElementById('audioPortfolio'),
            playBtn: document.getElementById('port-play-btn'),
            titleDisplay: document.getElementById('port-track-title'),
            progressBar: document.getElementById('port-progress'),
            currTimeDisplay: document.getElementById('port-current-time'),
            durDisplay: document.getElementById('port-duration'),
            playlistList: document.getElementById('port-playlist-list'),
            currentTrackIndex: 0,
            isDragging: false,

            init: function() {
                this.renderPlaylist();
                this.loadTrack(0);
                this.playBtn.addEventListener('click', () => this.togglePlay());
                this.audio.addEventListener('timeupdate', () => this.updateProgress());
                this.audio.addEventListener('loadedmetadata', () => {
                    this.durDisplay.innerText = formatTime(this.audio.duration);
                    this.progressBar.max = this.audio.duration;
                });
                this.audio.addEventListener('ended', () => {
                    this.playBtn.innerHTML = "‚ñ∂";
                    this.playBtn.classList.remove("playing");
                    this.progressBar.value = 0;
                });
                this.progressBar.addEventListener('input', () => {
                    this.isDragging = true;
                    this.currTimeDisplay.innerText = formatTime(this.progressBar.value);
                });
                this.progressBar.addEventListener('change', () => {
                    this.audio.currentTime = this.progressBar.value;
                    this.isDragging = false;
                });
            },

            renderPlaylist: function() {
                this.playlistList.innerHTML = '';
                portfolioTracksData.forEach((track, index) => {
                    let li = document.createElement('li');
                    li.className = 'playlist-item';
                    li.innerHTML = `<span class="item-title">${track.title}</span>`;
                    li.addEventListener('click', () => this.loadTrack(index));
                    this.playlistList.appendChild(li);
                });
            },

            forcePause: function() {
                this.audio.pause();
                this.playBtn.innerHTML = "‚ñ∂";
                this.playBtn.classList.remove("playing");
            },

            loadTrack: function(index) {
                abPlayer.forcePause(); // STOP ALTRI PLAYER
                this.currentTrackIndex = index;
                const track = portfolioTracksData[index];
                this.audio.pause();
                this.playBtn.innerHTML = "‚ñ∂";
                this.playBtn.classList.remove("playing");
                this.progressBar.value = 0;
                this.audio.src = track.src;
                this.titleDisplay.innerText = track.title;
                document.querySelectorAll('#port-playlist-list .playlist-item').forEach((item, i) => {
                    item.classList.toggle('active', i === index);
                });
            },

            togglePlay: function() {
                if (this.audio.paused) {
                    abPlayer.forcePause(); // STOP ALTRI PLAYER
                    this.audio.play();
                    this.playBtn.innerHTML = "‚è∏";
                    this.playBtn.classList.add("playing");
                } else {
                    this.audio.pause();
                    this.playBtn.innerHTML = "‚ñ∂";
                    this.playBtn.classList.remove("playing");
                }
            },

            updateProgress: function() {
                if (this.isDragging || !this.audio.duration) return;
                const currentTime = this.audio.currentTime;
                this.progressBar.value = currentTime;
                this.currTimeDisplay.innerText = formatTime(currentTime);
            }
        };

        // --- INIZIALIZZAZIONE ---
        document.addEventListener('DOMContentLoaded', () => {
            abPlayer.init();
            portPlayer.init();
            reveal();
        });
    </script>
</body>
</html>
